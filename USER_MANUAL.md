# 学校管理システム ユーザーマニュアル

## 目次
1. [システム概要](#システム概要)
2. [ログイン方法](#ログイン方法)
3. [教員向け機能](#教員向け機能)
4. [学生向け機能](#学生向け機能)
5. [管理者向け機能](#管理者向け機能)
6. [よくある質問](#よくある質問)

---

## システム概要

このシステムは教育機関向けの包括的な管理プラットフォームです。

### 主な機能
- **クラス管理**: 年度・学期ごとのクラス編成
- **授業セッション管理**: 授業回ごとの記録と管理
- **小テスト機能**: オンライン小テストの作成・採点
- **グループ管理**: グループワークの編成と評価
- **ピア評価**: 学生同士の相互評価
- **QRコードポイント**: 正解時に学生のQRコードをスキャンして即座にポイント付与
- **ポイント制度**: ゲーミフィケーション機能で学習意欲を向上

### アクセスURL
**本番環境**: https://grades-production-e365.up.railway.app/

---

## ログイン方法

### 1. ログインページにアクセス
ブラウザで上記URLを開きます。

### 2. 認証情報を入力
- **メールアドレス**: システム管理者から付与されたメールアドレス
- **パスワード**: 初期パスワード（初回ログイン後に変更推奨）

### 3. ログイン後のリダイレクト
役割に応じて自動的に適切なダッシュボードに移動します:
- **管理者**: 教員管理画面
- **教員**: 教員ダッシュボード
- **学生**: 学生ダッシュボード

### ログアウト方法
画面右上のメニューから「ログアウト」をクリックします。

---

## 教員向け機能

### クラス管理

#### クラスの作成
1. ダッシュボードから「クラス一覧」をクリック
2. 「新規クラス作成」ボタンをクリック
3. 必要情報を入力:
   - **クラス名**: 例「2024年度 情報処理基礎」
   - **年度**: 例「2024」
   - **学期**: 春学期/秋学期
   - **曜日・時限**: 例「月曜2限」
4. 「作成」をクリック

#### 学生の登録
1. クラス詳細ページを開く
2. 「学生を追加」をクリック
3. 以下のいずれかの方法で登録:
   - **個別選択**: 学生一覧から選択
   - **CSV一括登録**: CSVファイルをアップロード

**CSVフォーマット例**:
```csv
学籍番号,氏名,メールアドレス
S2024001,山田太郎,yamada@example.com
S2024002,佐藤花子,sato@example.com
```

### 授業セッション管理

#### セッションの作成
1. クラス詳細ページから「授業セッション」タブをクリック
2. 「新規セッション作成」をクリック
3. 情報を入力:
   - **セッション番号**: 第何回の授業か（例: 1, 2, 3...）
   - **授業日**: 実施日
   - **トピック**: 授業のテーマ（例: 「配列とループ」）
4. 「作成」をクリック

#### セッションの詳細設定
作成したセッションでは以下が可能です:
- 小テストの作成と採点
- グループの編成
- ピア評価の設定
- 出席管理

### 小テスト機能

#### 小テストの作成
1. セッション詳細ページから「小テスト」タブをクリック
2. 「新規小テスト作成」をクリック
3. 基本情報を入力:
   - **タイトル**: 例「第1回小テスト」
   - **採点方式**: 合否判定/数値採点/ルーブリック/QRモバイル
   - **満点**: 例「10点」
4. 「作成」をクリック

#### 問題の追加
1. 作成した小テストの「問題管理」をクリック
2. 「新規問題追加」をクリック
3. 問題タイプを選択:
   - **多肢選択**: 選択肢から1つ選ぶ
   - **正誤問題**: True/False
   - **記述問題**: 自由記述

#### 採点方法
1. 小テスト詳細ページから「採点」をクリック
2. 学生ごとに点数を入力
3. **クイックボタン**: よく使う点数をワンクリックで入力可能
4. 「保存」をクリック

**採点の取り消し**: 誤って採点した場合は、該当学生の「取り消し」ボタンをクリック

### グループ管理

#### グループの作成
1. セッション詳細ページから「グループ」タブをクリック
2. 「グループ作成」をクリック
3. 以下の方法で編成:
   - **自動編成**: 人数を指定して自動的にグループ分け
   - **手動編成**: メンバーを個別に選択

#### グループメンバーの役割設定
各メンバーに役割を付与できます（例: リーダー、記録係、発表者）

### ピア評価

#### ピア評価の設定
1. セッション詳細ページから「ピア評価」タブをクリック
2. 「ピア評価を作成」をクリック
3. 設定内容:
   - **評価対象**: グループ単位での評価
   - **評価項目**: 1位・2位の投票と理由
   - **貢献度評価**: メンバーの貢献度を1-5で評価

#### 評価用リンクの配布
1. 「評価リンク生成」をクリック
2. 各グループごとに固有のURLが生成される
3. URLを学生に配布（メールやLMS経由）

**匿名性**: ピア評価は匿名で実施されます

#### 評価の終了
1. 「評価を締め切る」ボタンをクリック
2. 締め切り後は学生が評価を入力できなくなります

#### 評価結果の確認
1. 「評価結果」をクリック
2. 以下の情報を確認:
   - 各グループへの投票結果
   - メンバーの貢献度スコア
   - 評価理由のコメント

### QRコードポイント付与

#### QRコードの使用方法
授業中の小テストや課題で正解した学生にポイントを付与する機能です。

#### 学生のQRコード表示
1. 学生がダッシュボードから「マイQRコード」を開く
2. 自分専用のQRコードが表示される
3. スマートフォンやタブレットでQRコードを表示しておく

#### 教員のQRコード読み取り
1. クラス詳細ページから「QRコード」タブをクリック
2. 正解した学生のQRコードをスキャン
3. スキャンと同時にポイントが自動的に加算される
4. 読み取り履歴は「QRコードスキャン履歴」で確認可能

**ポイント**:
- 同じQRコードを短時間で複数回スキャンしても、ポイントは1回のみ加算されます
- 不正防止のため、QRコードをスクリーンショットで保存することは禁止です

### ポイント管理

#### ポイントの付与
1. 学生詳細ページを開く
2. 「ポイント更新」をクリック
3. 付与するポイント数と理由を入力
4. 「更新」をクリック

#### ポイントの用途
- 小テストの正解でのポイント獲得
- 授業中の正解時にQRコードスキャンで即時ポイント付与
- ピア評価での高評価
- 教員による手動付与（課題提出、優秀な発表など）

#### ポイントランキング
クラス詳細ページで学生のポイントランキングを確認できます。

---

## 学生向け機能

### ダッシュボード

ログイン後、学生ダッシュボードで以下が確認できます:
- **履修中のクラス**: 登録されているクラス一覧
- **獲得ポイント**: 総ポイント数
- **最近の活動**: 小テスト結果、評価など

### 小テストの受験

1. クラスページから対象のセッションをクリック
2. 「小テスト」タブを開く
3. 問題に回答
4. 「提出」をクリック

**注意**: 一度提出すると修正できません

### ピア評価の入力

1. 教員から送られたピア評価用URLにアクセス
2. 以下を入力:
   - **1位のグループ**: 最も優れていたグループを選択
   - **1位の理由**: 具体的な理由を記述
   - **2位のグループ**: 2番目に優れていたグループを選択
   - **2位の理由**: 具体的な理由を記述
3. 「提出」をクリック

#### 貢献度評価
自分のグループメンバーの貢献度を1-5で評価:
- **5**: 非常に貢献した
- **4**: よく貢献した
- **3**: 普通に貢献した
- **2**: あまり貢献しなかった
- **1**: ほとんど貢献しなかった

### QRコード表示

1. ダッシュボードから「マイQRコード」をクリック
2. 自分専用のQRコードが表示される
3. 授業中、小テストや課題で正解したとき、教員にQRコードを見せる
4. 教員がスキャンするとポイントが即座に加算される

**使用シーン例**:
- 授業中の口頭クイズに正解したとき
- グループワークで優れた発表をしたとき
- 挙手して正しい答えを述べたとき
- 課題を期限内に提出したとき

**重要**:
- QRコードを他人に見せたり、スクリーンショットを共有しないでください
- 教員がスキャンするまでQRコードを表示しておいてください

### 成績の確認

1. クラスページを開く
2. 「成績」タブで確認:
   - 小テストの点数
   - 出席状況
   - 獲得ポイント
   - ピア評価結果

---

## 管理者向け機能

### 教員アカウント管理

#### 新規教員の追加
1. 「管理者パネル」→「教員管理」をクリック
2. 「新規教員追加」をクリック
3. 情報を入力:
   - **メールアドレス**: ログイン用メールアドレス
   - **氏名**: 教員名
   - **教員ID**: 任意の識別番号
   - **初期パスワード**: 仮パスワード
4. 「作成」をクリック
5. 作成後、教員に認証情報を伝える

#### 教員情報の編集
1. 教員一覧から編集したい教員をクリック
2. 「編集」ボタンをクリック
3. 情報を修正して「保存」

### 学生アカウント管理

#### 新規学生の追加
1. 「学生管理」をクリック
2. 「新規学生追加」をクリック
3. 情報を入力:
   - **学籍番号**: 例「S2024001」
   - **氏名**: 学生名
   - **メールアドレス**: ログイン用メールアドレス
   - **初期パスワード**: 仮パスワード
4. 「作成」をクリック

#### 一括登録（CSV）
1. 「CSV一括登録」をクリック
2. CSVファイルをアップロード
3. プレビューで確認
4. 「登録実行」をクリック

### システム設定

#### 環境変数の管理
Railwayダッシュボードで以下を設定:
- `DEBUG`: 本番環境では必ず`False`
- `SECRET_KEY`: セキュアな秘密鍵
- `ADMIN_EMAIL`: 管理者メールアドレス
- `ADMIN_PASSWORD`: 管理者パスワード

#### データベースのバックアップ
Railwayの「PostgreSQL」サービス→「Backups」タブで定期的にバックアップを実施

---

## よくある質問

### Q1. パスワードを忘れました
**A**: 現在、パスワードリセット機能は実装されていません。管理者に連絡してパスワードをリセットしてもらってください。

### Q2. 学生が授業に登録されていません
**A**: 教員が以下を確認してください:
1. クラス詳細ページの「学生」タブ
2. 該当学生が登録されているか確認
3. 登録されていない場合は「学生を追加」から登録

### Q3. 小テストの採点を間違えました
**A**: 採点画面で該当学生の「取り消し」ボタンをクリックし、正しい点数を再入力してください。

### Q4. ピア評価のURLが開けません
**A**: 以下を確認してください:
- URLが完全にコピーされているか
- 評価期間が締め切られていないか
- ブラウザのプライベートモードを試す

### Q5. QRコードが読み取れません（教員側）
**A**: 以下を試してください:
- 学生のスマートフォン画面の明るさを最大にする
- カメラとQRコードの距離を調整する（20-30cm程度）
- 画面の反射を避ける
- ブラウザでカメラの権限を許可する
- 別のデバイス（スマートフォンやタブレット）で試す

### Q6. ポイントが反映されていません
**A**: 以下を確認してください:
- 小テストが採点されているか
- QRコードスキャンが正常に完了したか（スキャン成功のメッセージを確認）
- 重複スキャン防止のため、短時間に同じQRコードをスキャンしていないか
- ページをリロード（F5）する

### Q7. グループメンバーが表示されません
**A**: 教員がグループ編成を完了しているか確認してください。

### Q8. 500エラーが表示されます
**A**: システム管理者に連絡してください。Railwayのログを確認する必要があります。

### Q9. 画像やCSSが表示されません
**A**: 以下を確認してください:
- ブラウザのキャッシュをクリア（Ctrl+Shift+Delete）
- ページを強制リロード（Ctrl+F5）
- 管理者に静的ファイル設定を確認してもらう

### Q10. モバイルで使えますか？
**A**: はい、レスポンシブデザインに対応していますが、一部機能は大画面での使用を推奨します。

---

## サポート・お問い合わせ

### 技術的な問題
システム管理者に連絡してください。

### 機能要望・バグ報告
GitHubリポジトリのIssuesページで報告してください。

---

## バージョン情報
- **システム名**: 学校管理システム (School Management System)
- **バージョン**: 1.0
- **フレームワーク**: Django 5.2.8
- **データベース**: PostgreSQL
- **デプロイ**: Railway

---

**最終更新**: 2025年11月16日
